<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>registration</title>
  </head>
  <body>
    <h1>登録</h1>
    <button onclick="send()">送信</button>
    <script>
      const send = async () => {
        const client_id = "alh2LWwtRWZ3Rk1Ed3AwWTRCYk06MTpjaQ";
        const client_secret =
          "9APfzkfY4pb06zN59Rk_aK8bpLt-MJrFOuFVw6aK2m34PTT69b";
        const redirect_url = "http://127.0.0.1:3000/callback";
        const scope = "tweet.read%20tweet.write%20users.read%20offline.access";
        const token = btoa(`${client_id}:${client_secret}`);
        const auth_url = `https://twitter.com/i/oauth2/authorize?response_type=code&client_id=${client_id}&redirect_url=${redirect_url}&scope=${scope}`;

        const auth_result = await fetch(auth_url, {
          headers: {
            Authorization: `Basic ${token}`,
          },
        });
        console.log(auth_result);
      };
    </script>
  </body>
</html>
